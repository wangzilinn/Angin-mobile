# Angin-mobile

![](./lib/assets/images/logo.png)

## Views

1. card_palette_view

   用于配置当日要背的卡片列表

   点击要背的卡片分类后, 下面显示当日要背的卡片数量总数, 预计记忆时间

2. card_list_view

   显示今日要背的所有卡片的界面

   对于每个条目:

   ​	单击开始背单词, 

   ​	向右划询问是否删除单词

   ​	向左滑查看单词

3. card_settings_view

   设置界面

   1. 当日最大复习卡片数
   2. 当日新单词数
   3. 当日截止时间

4. card_detail_view

   单个卡片的显示界面

5. card_motify_view

   修改卡片的界面

## Models

卡片数据

显示全部卡片简要信息

储存设置的内容

## Services

从网站获取restful消息的服务

本地储存



# 策略

## 总体
>
1. 每日第一次运行软件时从服务器下载所有今日到期卡片+新的要背的卡片
2. 对于卡片列表中的每一个卡片:
   1. 如果过期时间在当前时间之前,则根据记忆情况,更新过期时间
   2. 如果过期时间晚于当前时间,早于当日截止日期,则为灰色,不可点击
   3. 如果过期时间超过当日截止日期 , 则消去该卡片
3. 直到主页单词列表为空,则当日任务完成

## 点击列表后的逻辑

1. 点击列表中元素后, 向详情页面传入整个model by调用cardService.getModel(index), 这个函数中存入当前显示的index
2. 点击option按钮后, 更新整个页面 by:调用cardService.next()
3. cardService.next()实现:cardService时刻知道当先显示的卡片的序列号

## chat
1. 发送图片:
   1. http将图片上传到服务器
   2. 从服务器获得URL
   3. 根据URL从服务器下载图片, 用于显示
   
2. 历史消息:
   1. 服务器springboot订阅chat, 并储存到数据库中
   2. app初始化时先从MongoDB获取历史消息, 再连接mqtt

# TODO:

第一版完成了

2020年2月5日:

 - [x] 修改四个选项卡分别为 选择卡片分类,卡片列表, 统计数据, 聊天
 - [ ] 卡片配置页可以配置今日要背的单词列表, 
 - [x] 卡片配置页下面的图标弄成调色盘
 - [x] 增加左滑侧边栏,将设置集中到一起
 - [ ] 修改但此状态提示, 直接写期望的动作而不是感受,增加一个进度条
 - [ ] 修复:设置今日截止日期那个时间选择
 - [ ] 统计界面加一个折线图,里面放今日背的单词的个数,所有逻辑放在服务器
 - [ ] 








